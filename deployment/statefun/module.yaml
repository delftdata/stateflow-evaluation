version: '3.0'
module:
  meta:
    type: remote
  spec:
    egresses:
    - egress:
        meta:
          id: stateflow/kafka-egress
          type: io.statefun.kafka/egress
        spec:
          address: kafka-broker:9093
    endpoints:
    - endpoint:
        meta:
          kind: http
        spec:
          functions: globals/ping
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/User
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/User_create
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Geo
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Geo_create
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Rate
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Rate_create
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Search
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Search_create
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Reservation
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Reservation_create
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Profile
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Profile_create
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Recommend
          urlPathTemplate: http://host-machine:8000/statefun
    - endpoint:
        meta:
          kind: http
        spec:
          functions: global/Recommend_create
          urlPathTemplate: http://host-machine:8000/statefun
    ingresses:
    - ingress:
        meta:
          id: stateflow/kafka-ingress
          type: io.statefun.kafka/ingress
        spec:
          address: kafka-broker:9093
          consumerGroupId: stateflow-statefun-consumer
          topics:
          - targets:
            - global/User
            topic: global_User
            valueType: stateflow/byte_type
          - targets:
            - global/User_create
            topic: global_User_create
            valueType: stateflow/byte_type
          - targets:
            - global/Geo
            topic: global_Geo
            valueType: stateflow/byte_type
          - targets:
            - global/Geo_create
            topic: global_Geo_create
            valueType: stateflow/byte_type
          - targets:
            - global/Rate
            topic: global_Rate
            valueType: stateflow/byte_type
          - targets:
            - global/Rate_create
            topic: global_Rate_create
            valueType: stateflow/byte_type
          - targets:
            - global/Search
            topic: global_Search
            valueType: stateflow/byte_type
          - targets:
            - global/Search_create
            topic: global_Search_create
            valueType: stateflow/byte_type
          - targets:
            - global/Reservation
            topic: global_Reservation
            valueType: stateflow/byte_type
          - targets:
            - global/Reservation_create
            topic: global_Reservation_create
            valueType: stateflow/byte_type
          - targets:
            - global/Profile
            topic: global_Profile
            valueType: stateflow/byte_type
          - targets:
            - global/Profile_create
            topic: global_Profile_create
            valueType: stateflow/byte_type
          - targets:
            - global/Recommend
            topic: global_Recommend
            valueType: stateflow/byte_type
          - targets:
            - global/Recommend_create
            topic: global_Recommend_create
            valueType: stateflow/byte_type
          - targets:
            - globals/ping
            topic: globals_ping
            valueType: stateflow/byte_type